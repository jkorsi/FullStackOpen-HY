(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,n,t){e.exports=t(365)},198:function(e,n){},199:function(e,n){},216:function(e,n){},217:function(e,n){},221:function(e,n){},223:function(e,n){},260:function(e,n){},263:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=263},265:function(e,n){},267:function(e,n){},300:function(e,n){},301:function(e,n){},363:function(e,n,t){},364:function(e,n,t){},365:function(e,n,t){"use strict";t.r(n);var o,a,l=t(2),r=t.n(l),c=t(149),i=t.n(c),u=t(150),s=t(21),f=function(e){return o=null==typeof e.filterValue?"":e.filterValue,a=null==typeof e.handleFilterChange?"":e.handleFilterChange,r.a.createElement("div",{style:{padding:10}},"Filtteri: ",r.a.createElement("input",{value:o,onChange:a}))},d=function(e){var n=e.person,t=e.deletePerson;return r.a.createElement("li",null,n.name,","," ",n.number," "," ",r.a.createElement("button",{onClick:t},"Poista"))},m=t(17),h=t.n(m),p=function(e){if(window.confirm("Haluatko varmasti poistaa henkil\xf6n?"))return h.a.delete("".concat("/api/persons","/").concat(e)).then(function(e){return e.data}).catch(function(n){alert("The person '".concat(e,"' was already deleted from server"))})},g=function(e){return console.log("Filtered rows propsit: ",e),console.log(e.filteredRows),e.filteredRows.filter(function(n){return n.name.toLowerCase().includes(e.filterValue.toLowerCase())}).map(function(n){return r.a.createElement(d,{key:n.id,person:n,deletePerson:function(){return e.deletePerson(n.id)}})})},E=function(e){return r.a.createElement("form",{onSubmit:e.addPersonAndNumber},r.a.createElement("div",{style:{padding:10}},"Nimi: ",r.a.createElement("input",{value:e.newName,onChange:e.handlePersonsChange})),r.a.createElement("div",{style:{padding:10}},"Puhelinnumero: ",r.a.createElement("input",{value:e.newPhone,onChange:e.handlePhoneChange})),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Lis\xe4\xe4")))},v=function(){return h.a.get("/api/persons").then(function(e){return e.data})},b=function(e){return h.a.post("/api/persons/",e).then(function(e){return e.data})},w=function(e,n){return console.log("ID: ",e),h.a.put("".concat("/api/persons","/").concat(e),n).then(function(e){return e.data})},P=function(e){var n=e.message,t=e.isSuccess,o="green";return console.log("Message",n),console.log("Success ",t.toString()),null===n?null:(t?t&&(o="green",console.log("Success")):(o="red",console.log("No success")),r.a.createElement("div",{className:"error",style:{color:o}},n))},k=(t(172),t(363),function(){var e=Object(l.useState)([]),n=Object(s.a)(e,2),t=n[0],o=n[1],a=Object(l.useState)(""),c=Object(s.a)(a,2),i=c[0],d=c[1],m=Object(l.useState)(""),h=Object(s.a)(m,2),k=h[0],O=h[1],C=Object(l.useState)(""),j=Object(s.a)(C,2),y=j[0],S=j[1],N=Object(l.useState)(null),L=Object(s.a)(N,2),F=L[0],H=L[1],V=Object(l.useState)(!0),D=Object(s.a)(V,2),R=D[0],T=D[1],x=t,A="/api/persons/";Object(l.useEffect)(function(){v().then(function(e){console.log("Promise fulfilled"),console.log(e),o(e)})},[]);function I(e){H("".concat(e)),setTimeout(function(){H(null)},5e3)}return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(P,{message:F,isSuccess:R}),r.a.createElement("h3",null,"Hae henkil\xf6\xe4"),r.a.createElement(f,{filterValue:y,handleFilterChange:function(e){S(e.target.value)}}),r.a.createElement("h3",null,"Lis\xe4\xe4 henkil\xf6"),r.a.createElement(E,{addPersonAndNumber:function(e){if(e.preventDefault(),t.filter(function(e){return e.name.toLowerCase()===i.toLowerCase()}).length>0)window.confirm("Henkil\xf6 ".concat(i," on jo olemassa. P\xe4ivitet\xe4\xe4nk\xf6 numero?"))&&function(){var e=i,n=t.find(function(n){return n.name===e}),a=n.id;"".concat(A).concat(a),console.log(n);var l=Object(u.a)({},n,{number:k});console.log(l),w(a,l).then(function(n){T(!0),o(t.map(function(e){return e.id!==a?e:n})),d(""),O(""),I("Henkil\xf6n ".concat(e," numero p\xe4ivitetty."))}).catch(function(n){T(!1),I("Henkil\xf6 ".concat(e," on poistettu palvelimelta. :( Kokeile lis\xe4t\xe4 henkil\xf6 uudelleen!")),o(t.filter(function(e){return e.id!==a}))})}();else{var n={name:i,number:k};b(n).then(function(e){T(!0),o(t.concat(n)),d(""),O(""),I("Henkil\xf6 ".concat(n.name," lis\xe4tty"))})}},newName:i,handlePersonsChange:function(e){d(e.target.value)},newPhone:k,handlePhoneChange:function(e){O(e.target.value)}}),r.a.createElement("h2",null,"Numerot"),r.a.createElement("ul",null,r.a.createElement(g,{filterValue:y,filteredRows:x,deletePerson:function(e){T(!0),p(e).then(o(t.filter(function(n){return n.id!==e}))),I("Poistettiin henkil\xf6 ".concat(e))}})))});t(364);i.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.5db5f37c.chunk.js.map